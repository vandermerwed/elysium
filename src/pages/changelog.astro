---
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import ChangelogItem from "@components/ChangelogItem.astro";
import { changelog } from "../data/changelog";
import { SITE } from "@config";

const sortedChangelog = [...changelog].sort(
  (a, b) => b.date.getTime() - a.date.getTime()
);
---

<Layout title={`Changelog | ${SITE.title}`}>
  <Header />
  <main id="main-content" class="mx-auto w-full max-w-3xl px-4 pb-12">
    <h1 class="text-4xl font-semibold text-skin-accent">Changelog</h1>
    <p class="mt-2 text-skin-base/80">A history of updates and improvements to this site.</p>

    <div class="mt-6">
      {sortedChangelog.map(entry => (
        <ChangelogItem {...entry} />
      ))}
    </div>
  </main>
  <Footer />
</Layout>
